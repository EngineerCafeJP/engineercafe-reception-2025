# エンジニアカフェ受付システム仕様書

## 1. システム概要
エンジニアカフェの受付システムは、スタッフが来訪者のチェックイン・退館を管理し、座席の割り当てを行うシステムである。
本システムでは、NFCカードを利用したチェックインも可能であり、来訪者の情報を検索・管理する機能を備えている。

## 2. 画面仕様

### 2.1 ホーム（登録）
**目的**: 既存会員のチェックインと座席の管理を行う。

#### 機能
- **会員のチェックイン**
  - 会員番号を入力して会員情報を取得
  - チェックイン時刻を自動記録
  - チェックアウト予定時刻を自動計算（チェックイン時刻＋2時間）
  - データベースにログを保存

- **座席の管理**
  - **グリッドボックス形式の座席UI**
    - 空席と使用中の席を視覚的に区別
    - 各座席の枠内に **「会員番号」** と **「チェックアウト予定時刻」** を表示
  - **座席の選択**
    - チェックイン時に空いている座席を選択し登録
    - 登録された座席は「使用中」として更新される
  - **座席の再割り当て**
    - 既に使用中の席への変更は不可
  - **チェックアウト予定時刻を超過した場合**
    - 座席を強制的に開放せず、会員は居続けることが可能
    - **予定時刻を超えた場合、UI上で時刻が赤くなるなどの表示変更のみ行う**
  - **使用中の座席ボックスをクリックすると、「終了（退館）」または「延長」を選択できる**
    - **終了（退館）**: 退館処理を実行し、座席を空席に戻す
    - **延長**: チェックアウト予定時刻をさらに2時間延長

### 2.2 当日の詳細な履歴
**目的**: 当日のチェックイン履歴を表示し、管理しやすくする。

#### 機能
- **当日のチェックイン履歴の表示**
  - **会員番号、チェックイン時刻、場所（例：メイン1）** をリスト表示
  - **当日の合計チェックイン人数を表示**
    - 「本日チェックイン人数：○○人」の形式で表示

- **履歴の管理**
  - **個別削除が可能**
    - 削除時には **確認ダイアログ** を表示し、誤削除を防ぐ
  - **全件削除は不要**

### 2.3 月毎のざっくりとした統計
**目的**: 月単位で来訪者の動向を把握し、日ごとの利用状況を確認する。

#### 機能
- **月の選択**
  - ユーザーが月を選択できる（プルダウンメニューなど）

- **統計データの表示**
  - **表形式で日ごとの利用者数を表示**
    - 選択した月の全日について、**日毎の全体利用者数** を一覧表示
    - **各スペース（例: メイン）ごとの利用者数** も日ごとに表示
  - **滞在時間の集計は不要**
  - **グラフの表示は不要**
  - **曜日ごとの集計は不要**

### 2.4 会員情報検索と変更
**目的**: 登録済みの来訪者（会員）の情報を検索し、必要に応じて編集できるようにする。

#### 機能
- **会員情報の検索**
  - **検索条件（部分一致検索可能）**:
    - 会員番号
    - 氏名
    - 氏名かな
    - 電話番号
    - メールアドレス
  - 該当する会員の情報を一覧で表示

- **会員情報の編集**
  - **編集可能な項目**:
    - 会員番号
    - 氏名
    - 氏名かな
    - 所属（企業・団体名など）
    - 連絡先（電話番号・メールアドレス）
  - 編集後、保存ボタンで更新

- **会員情報の削除**
  - **削除機能は不要**

### 2.5 NFCカード登録
**目的**: 来訪者のNFCカードを登録・更新し、会員情報と紐付ける。

#### 機能
- **NFCカードの新規登録のみを行う**
  - **会員情報との紐付け**
    - 会員番号を入力し、該当会員の情報を取得
    - NFCカードをリーダーにかざし、一意のカードIDを取得
    - 登録ボタンでカード情報を会員データに紐付け
